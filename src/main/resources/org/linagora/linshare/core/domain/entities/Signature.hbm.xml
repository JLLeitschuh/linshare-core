<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN" "http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<hibernate-mapping>
  <class name="org.linagora.linshare.core.domain.entities.Signature" table="SIGNATURE">
    <id name="persistenceId" type="long">
 	  <column name="signature_id" not-null="true" index="index_signature_id"/>
      <generator class="native"/>
    </id>
    <property access="field" column="identifier" name="identifier" not-null="true" unique="true"/>
    <property access="field" column="name" name="name" not-null="true"/>
    <property access="field" column="creation_date" name="creationDate" not-null="true" type="calendar"/>
    <property access="field" column="type" name="type"/>
    <property access="field" column="size" name="size" type="long"/>
    <property access="field" column="cert_subjectdn" name="certSubjectDn"/>
    <property access="field" column="cert_issuerdn" name="certIssuerDn"/>
    <property access="field" column="cert_notafter" name="certNotAfter"/>
    <property access="field" column="cert" name="cert" type="text"/>
    <many-to-one access="field" class="org.linagora.linshare.core.domain.entities.User" name="signer" not-null="true">
      <column index="index_signature_signer_id" name="signer_id"/>
    </many-to-one>
    <many-to-one access="field" class="org.linagora.linshare.core.domain.entities.Document" column="document_id_fk" name="document" not-null="false"/>
  </class>
</hibernate-mapping>
