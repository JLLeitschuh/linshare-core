<?xml version="1.0" encoding="UTF-8"?>

<beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:aop="http://www.springframework.org/schema/aop"
	xmlns:tx="http://www.springframework.org/schema/tx"
	xsi:schemaLocation="    
	http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-3.0.xsd
	http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-3.0.xsd
	http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd"
	default-autowire="no">

	  <bean name="ldapQueryService" class="org.linagora.linshare.core.service.impl.LDAPQueryServiceImpl">
     	<property name="ldapContext" ref="contextSource" />
     </bean>
	
	  
     <!-- LDAP DAO configuration -->
        <bean id="contextSource" class="org.springframework.ldap.core.support.LdapContextSource">
            <property name="url" value="ldap://linshare-obm.linshare.team.services.par.lng:389" />
              <property name="base" value="ou=users,dc=int1.linshare.dev,dc=local" />
<!--             <property name="userDn" value="${ldap.root.dn}" /> -->
<!--             <property name="password" value="${ldap.root.password}" /> -->
            <property name="pooled" value="true" />
            <!--  We do not use context binding with Acegi because we want to be independent from LDAP from auth -->
            <!-- <property name="authenticationSource"><ref local="acegiAuthenticationSource" /></property> -->
    </bean>
    
        <bean id="contextSource_insee" class="org.springframework.ldap.core.support.LdapContextSource">
            <property name="url" value="ldap://10.75.128.208:389" />
              <property name="base" value="ou=People,o=insee,c=fr" />
<!--             <property name="userDn" value="${ldap.root.dn}" /> -->
<!--             <property name="password" value="${ldap.root.password}" /> -->
            <property name="pooled" value="true" />
    </bean>
    
<!-- 
 <bean id="ehcacheForLqlAuthzDnList" class="org.linid.dm.authorization.lql.dnlist.EhcacheDnList">
        <property name="cache">
            <bean factory-bean="ehcacheManager" factory-method="getCache">
                <constructor-arg value="lqlAuthzDnListCache" />
            </bean>
        </property>
    </bean>
 -->
    
        

</beans>
